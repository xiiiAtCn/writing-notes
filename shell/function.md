#### 基本的脚本函数

##### 创建函数
有两种创建函数的方式. 第一种格式采用关键字function, 后跟分配给该代码块的函数名
```
    function name {
        commands
    }
```
另一种跟接近其他编程语言中定义函数的方式
```
    name() {
        commands
    }
```

#### 使用函数
和使用shell命令一样, 在行中指定函数名就行. 但如果在函数被定义前使用函数, 会导致出错. 重新定义函数, 新函数会覆盖原来函数的定义, 而且不会有错误提示.

#### 返回值

##### 默认退出状态码
默认函数的退出状态码是函数中最后一条命令返回的退出状态码. 在函数结束后, 可以用标准变量$?来确定函数的退出状态码.

##### 使用return命令
bash使用return命令来退出函数并返回特定的退出状态码. return命令允许指定一个整数值来定义函数的退出状态码. 需要注意两点:
1. 函数一结束就取返回值
2. 退出状态码必须是0~255

##### 使用函数输出
可以像将命令的输出保存到shell变量中一样来保存函数的输出.

#### 在函数中使用变量

##### 向函数传递参数
bash会将函数当作小型脚本对待, 即可以像普通脚本那样向函数传递参数

##### 在函数中处理变量
函数使用两种类型的变量: 
* 全局变量
* 局部变量
在函数内定义了一个全局变量, 可以在脚本的主体部分读取它的值.定义在脚本外的变量, 如果在函数内被赋予了新值, 那么在脚本中应用该变量时, 新值依然有效. 函数内部使用的任何变量都可以被声明为局部变量. 但是需要在变量声明前加上一个local关键字.

#### 数组变量和函数

##### 向函数传数组参数
传递一组参数, 然后通过$@获取所有传入的参数, 存放在数组中

##### 从函数返回数组
函数用echo语句来按正确顺序输出单个数组值, 然后脚本再将它们重新放进一个新的数组变量中. 

#### 函数递归

#### 创建库
bash允许创建函数库文件, 然后在多个脚本中引用该库文件. 在库函数内创建函数. 但要使创建的函数能够访问, 需要使用source命令. source命令会在当前shell上下文中执行命令. 使用source命令来在脚本中运行库文件脚本, 这样脚本就可以使用库中的函数. source命令有个快捷的别名, 称作点操作符.

#### 在命令行上使用函数

##### 在命令行上创建函数
可以采用单行方式定义函数, 这时需要在每个命令后面加个分号. 另一种是采用多行方式来定义函数.

##### 在.bashrc文件中定义函数

#### GNU shtool shell脚本函数库