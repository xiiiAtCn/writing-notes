#### /etc/passwd文件
linux系统使用/etc/passwd文件来将用户的登录名匹配到对应的UID值上.  
Linux系统会为各种各样的功能创建不同的用户账户, 而这些账号并不是真正的用户. 这些账户叫作系统账户, 是系统上运行的各种服务进程访问资源用的特殊账户. 所有运行在后台的服务都需要用一个系统用户账户登录到Linux系统上.  
/etc/passwd文件的字段包含了如下信息: 
1. 登录用户名
2. 用户密码
3. 用户账户的UID(数字形式)
4. 用户账户的组ID(GID)(数字形式)
5. 用户账户的文本描述(称为备注字段)
6. 用户HOME目录的位置
7. 用户的默认shell  
密码位置使用x代替, 为了安全性, 绝大多数Linux系统都将用户密码放在了一个单独的文件中, 叫作shadow文件, 位置在/etc/shadow

#### /etc/shadow文件
只有root用户有权访问/etc/shadow文件. 每条记录中都有9个字段
1. 与/etc/shadow文件中的登录名字段中对应的登录名
2. 加密后的密码
3. 自上次修改密码后过去的天数密码
4. 多少天后才能更改密码
5. 多少天后必须更改密码
6. 密码过期前多少天提醒用户更改密码
7. 密码过期多少天后禁用用户账户
8. 用户账户被禁用的日期(用自1970年1月1日到当天的天数表示)
9. 预留字段给将来使用

#### 添加用户
useradd -D选项会显示创建用户时的默认值. 
1. 新用户被添加到的组的GID
2. 新用户的HOME目录的位置
3. 新用户账户密码在过期后不会被禁用
4. 新用户账户未被设置过期日期
5. 新用户账户的默认shell
6. 系统会将/etc/skel目录下的内容复制到用户的HOME目录下
7. 系统为该用户在mail目录创建了一个用于接收邮件的文件

#### 删除用户 
userdel, 正常只会将用户从/etc/passwd中删除, 添加-r参数会将用户对应的目录同时删除

#### 修改用户
1. usermod: 修改用户账户的字段, 可以指定主要组以及附加组的所属关系
2. passwd: 修改用户密码
3. chpasswd: 从文件中读取登录名密码时, 并更新密码
4. chage: 修改密码的过期日期
5. chfn: 修改用户账户的备注信息
6. chsh: 修改用户账户的默认登录shell

#### Linux用户组
组权限允许多个用户对系统中的对象(比如文件, 目录或设备等)共享一组共用的权限.

#### /etc/group文件
/etc/group文件包含系统上用到的每个组的信息. 每条信息有4个字段
1. 组名
2. 组密码
3. GID
4. 属于该组的用户列表
> 当一个用户在/etc/passwd文件中指定某个组作为默认组时, 用户账户不会作为该组成员再次出现在/etc/group文件中.

#### 组的操作
groupadd: 添加组  
groupmod: 修改已有组的GID或组名


#### 文件权限

##### 文件类型
通过ls -la命令, 显示在第一列的字符代表了对象的类型, 其中: 
1. -: 文件
2. d: 目录
3. l: 链接
4. c: 字符型设备
5. b: 块设备
6. n: 网络设备

#### 默认文件权限
umask命令用来设置创建文件和目录的默认权限  
文件的权限和文件夹的rwx权限解释是不同的, 对于文件,
可读: 表示可以读取文件里的数据  
可写: 表示可以改变和删除文件  
可执行: 表示可以执行该程序  
对于文件夹,   
可读: 表示在查看时看到该文件  
可写: 表示可以在目录中删除和增加文件  
可执行: 表示可以列出目录下文件的信息

对文件来说, 全权限的值是666, 目录的全权限是777. umask值通常会设置在/etc/profile启动文件中, 也有一些是在/etc/login.defs

#### 改变权限
chmod符号模式的权限: [ugoa...] [[+-=]rwxXstugo...]  
第一组字符定义了权限作用的对象: 
1. u代表用户
2. g代表组
3. o代表其他
4. a代表上述所有
第三个符号代表作用到设置上的权限. 额外的设置有以下几项.
1. X: 如果对象是目录或者它已有执行权限, 赋予执行权限
2. s: 运行时重新设置UID或GID
3. t: 保留文件或目录
4. u: 将权限设置为跟属主一样
5. g: 将权限设置为跟属组一样
6. o: 将权限设置为跟其他用户一样

#### 改变所属关系
chown: 只有root用户能够改变文件的属主. 任何属主都可以改变文件的属组, 但前提时属主必须时原属组和目标属组的成员

#### 共享文件
Linux为每个文件和目录存储了3个额外的信息位.
1. 设置用户ID(SUID): 当文件被用户使用时, 程序会以文件属主的权限运行.
2. 设置组ID(SGID): 对文件来说, 程序会以文件属组的权限运行; 对目录来说, 目录中创建的新文件会以目录的默认属组作为默认属组
3. 粘着位: 进程结束后文件还驻留在内存中.
SGID可通过chmod命令设置. 它会加到标准3位八进制之前(组成4位八进制值), 或者在符号模式下使用符号s.