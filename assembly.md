#### debug中的命令
1. r(register) 查看、改变CPU寄存器的内容
2. d(dump) 查看内存中的内容
3. e(enter) 改写内存中的内容
4. u(unassemble) 查看内存中机器码的含义
5. t(trace) 执行内存中的机器码
6. a(assemble) 以汇编指令的形式在内存中写入机器指令

#### 汇编中各寄存器的作用
1. 段寄存器。段寄存器是根据内存内存分段的管理模式而设置的。CPU内部的段寄存器分为以下几种:
    1. CS——代码段寄存器(Code Segment Register), 其值为代码段的段值
    2. DS——数据段寄存器(Data Segment Register), 其值为数据段的段值
    3. ES——附加段寄存器(Extra Segment Register), 其值为附加数据段的段值
    4. SS——堆栈段寄存器(Stack Segment Register), 其值为堆栈段的段值
    5. FS——附加段寄存器(Extra Segment Register), 其值为附加数据段的段值
    6. GS——附加段寄存器(Extra Segment Register), 其值为附加数据段的段值
2. 数据寄存器
    1. AX——累加器(Accumulator), 乘、除运算，字的输入输出，中间结果的缓存; AL, 字节的乘、除运算，字节的输入输出，十进制算术运算；AH，字节的乘、除运算，存放中断的功能号
    2. BX——基地址寄存器(Base Register), 可以作为存储器指针来使用
    3. CX——计数寄存器(Counter Register), 串操作、循环控制的计数器；CL，移位操作的计数器
    4. DX——数据寄存器(Data Register), 在进行乘、除运算时，可作为默认的操作数参与运算，也可用于存放I/O的端口地址
3. SI和DI寄存器
    他们是8086CPU中和bx功能相近的寄存器，SI和DI不能够分成两个8位寄存器来使用
4. 指针寄存器
    1. BP——基指针(Base Pointer)寄存器，可用作SS的一个相对基址位置
    2. SP——堆栈指针(Stack Pointer)寄存器，它指定栈顶的段偏移地址，和SS决定的栈段地址，一起决定了栈顶元素的位置
    3. IP——指令指针寄存器(Instruction Pointer), 和CS一起决定了指定当前执行的指令的位置
#### 分配空间关键字
1. dw: define word, 定义字型数据
2. db: define byte, 定义字节型数据
3. dd: define double, 定义双字型数据

#### dup
dup是一个操作符，也是由编译器识别处理的符号。它是和db、dw、dd等数据结构定义伪指令配合使用的，用来进行数据的重复。  
dup的使用格式
1. db 重复的次数 dup (重复的字节型数据)
2. dw 重复的次数 dup (重复的字型数据)
3. dd 重复的次数 dup (重复的双字型数据)

#### div指令
1. 除数: 有8位和16位两种，在一个reg或内存单元中。
2. 被除数: 默认放在AX或DX和AX中。如果除数位8位，被除数则为16位，默认在AX中存数；如果除数位16位，被除数则位32位，在DX和AX中存放，DX存放高16位，AX存放低16位。
3. 结果: 如果除数位8位，则AL存储除法操作的商，AH存储除法操作的余数；如果除数为16位，则AX存储除法操作的商，DX存储除法操作的余数。

#### 编译器操作符
1. offset: 取得标号的偏移地址

#### 转移指令
可以修改IP，或者同时修改CS和IP的指令统称为转移指令。转移指令就是可以控制CPU执行内存中某处代码的指令  
转移行为有以下几类:
1. 只修改IP时，称为段内转移，比如: jmp ax
2. 同时修改CS和IP时，称为段间转移，比如: jmp 1000:0  

段内转移又分为: 短转移和近转移
1. 短转移IP的修改范围为-128~127
2. 近转移IP的修改范围为-32768~32767

8086CPU的转移指令分为以下几类
1. 无条件转移指令(如: jmp)
2. 条件转移指令
3. 循环指令(如: loop)
4. 过程
5. 中断

#### 依据位移进行转移的jmp指令
指令格式: jmp short 标号(转到标号处执行)。它对IP的修改范围为-128~127  
功能为(IP) = (IP) + 8位位移:
1. 8位位移 = 标号处的地址 - jmp指令后的第一个字节的地址
2. short指明此处的位移位8位位移
3. 8位位移的范围为-128~127，用补码表示
4. 8位位移由编译器在编译时算出

还有另一种功能相近的指令格式: jmp near ptr 标号，其中near ptr指明此处的位移为16位位移，进行的时段内近转移

#### 转移的目的地址在指令中的jmp指令
'jmp far ptr 标号'实现的是段间转移，又称为远转移。功能如下:
1. (CS) = 标号所在段的段地址
2. (IP) = 标号在段中的偏移地址

#### 转移地址在寄存器中的jmp指令
指令格式: jmp 16位reg
功能: (IP) = (16位reg)

#### 转移地址在内存中的jmp指令
转移地址在内存中的jmp指令有两种格式:
1. jmp word ptr 内存单元地址(段内转移)  
功能: 从内存单元地址处开始存放着一个字，是转移目的地址的偏移地址。内存单元地址可用寻址方式的任一格式给出
2. jmp dword ptr 内存单元地址(段间转移)
功能: 从内存单元处开始存放着两个字，高地址处的字是转移目的地址的段地址，低地址处是存储的目的地址的偏移地址。

#### jcxz指令
jcxz指令为有条件转移指令，所有的有条件转移指令都是短转移，在对应的机器码中包含转移的位移，而不是目的地址。对IP的修改范围都为: -128~127  
指令格式: jcxz标号(如果(cx) = 0, 转移到标号处执行)  
操作: 当(cx) = 0时，(IP) = (IP) + 8位位移 
1. 8位位移 = 标号处的地址 - jcxz指令后的第一个字节的地址
2. 8位位移的范围为-128~127，用补码表示
3. 8位位移由编译器在编译时算出

#### loop指令
loop指令为循环指令，所有的循环指令都是短指令，在对应的机器码中包含转移的位移，而不是目的地址。  
指令格式: loop标号((cx)=(cx) - 1, 转移到标号处执行)
操作: 
1. (cx) = (cx) - 1
2. 如果(cx) != 0, (IP) = (IP) + 8位位移。8位位移=标号处的地址-loop指令后的第一个字节的地址；8位位移的范围为-128~127，用补码表示；8位位移由编译程序在编译时算出

#### nop
nop指令即空指令。运行时cpu什么都不做，但是会占用一个指令的时间

#### ret和retf指令
1. ret指令用栈中的数据，修改IP的内容，从而实现近转移
2. retf指令用栈中的数据，修改CS和IP的内容，从而实现远转移

CPU执行ret指令时，进行下面两步操作:
1. (IP) = ((ss) * 16 + (sp))
2. (sp) = (sp) + 2

CPU执行retf指令时，进行下面4步操作:
1. (IP) = ((ss) * 16 + (sp))
2. (sp) = (sp) + 2
3. (CS) = ((ss) * 16 + (sp))
4. (sp) = (sp) + 2

#### call指令
CPU执行call指令时，进行两步操作:
1. 将当前的IP或CS和IP压入栈中
2. 转移  
call指令不能实现短转移，除此之外，call指令实现转移的方法和jmp指令的原理相同。

#### 依据位移进行转移的call指令
call标号(将当前的IP压栈后，转到标号处执行指令)。CPU执行此种格式的call指令时，进行如下的操作:
1. (sp) = (sp) - 2
2. ((ss) * 16 + (sp)) = (IP)
3. (IP) = (IP) + 16位位移   

其中,
1. 16位位移 = 标号处的地址 - call指令后的第一个字节的地址
2. 16位位移的范围为 -32768 ~ 32767, 用补码表示
3. 16位位移由编译程序在编译时算出

#### 转移的目的地址在指令中的call指令
call far ptr 标号 实现的是段间转移  
CPU执行此种格式的call指令时，进行如下的操作。
1. (sp) = (sp) - 2
2. ((ss) * 16 + (sp)) = (CS)
3. (sp) = (sp) - 2
4. ((ss) * 16 + (sp)) = (IP)
> 其中，(CS) = 标号所在段的段地址，(IP) = 标号所在段中的偏移地址
CPU执行'call far ptr 标号'时，相当于进行:
```
    push CS
    push IP
    jmp far ptr 标号
```

#### 转移地址在寄存器中的call指令
指令格式: call 16位reg  
功能:
1. (sp) = (sp) -2
2. ((ss) * 16 + (sp)) = (IP)
3. (IP) = (16位reg)  
CPU执行'call 16位reg'时，相当于进行:
```
    push IP
    jmp 16位reg
```

#### 转移地址在内存中的call指令
指令格式有两种:
1. call word ptr 内存单元地址。汇编语法解释如下
```
    push IP
    jmp word ptr 内存单元地址
```
2. call dword ptr 内存单元地址。汇编语法解释如下
```
    push CS
    push IP
    jmp dword ptr 内存单元地址
```