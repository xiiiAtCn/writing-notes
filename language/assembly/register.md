# 汇编语言中的寄存器

## DS: 存放要访问的数据的段地址
```assembly
mov bx, 1000h
mov ds, bx
mov ax, [0]
```
8086CPU不支持将数据直接送入段寄存器的操作, ds是一个段寄存器, 所以需要使用寄存器来进行中转

## SS SP: 栈顶的段地址存放在SS中, 偏移地址存放在SP中. 
8086CPU的入栈和出栈操作都是以字为单位进行的. 任意时刻, SS:SP指向栈顶元素. 入栈时, 栈顶从高地址向低地址方向增长

## SI DI: 和bx功能相近的寄存器, si和di不能够分成两个8位寄存器来使用

## 内存单元可寻址寄存器: bx, si, di, bp
这四种寄存器可以单独出现, 或者以下面的组合出现:
1. bx + si
2. bx + di
3. bp + si
4. bp + di
> 在[..]中使用寄存器bp, 而指令中没有显式给出段地址, 段地址就默认在ss中

## 标志寄存器(flag)

### 作用
1. 用来存储相关指令的某些执行结果
2. 用来为CPU执行相关指令提供行为依据
3. 用来控制CPU的相关工作方式

flag的1, 3, 5, 12, 13, 14, 15位在8086CPU中没有使用, 不具有任何含义

### ZF标志(Zero Flag)
flag的第6位是ZF, 零标志位. 它记录相关指令执行后, 其结果是否为0. 如果结果为0, 那么zf=1; 如果不为0, 那么zf=0
### PF标志(Parity Flag)
flag的第2位是PF, 奇偶标志位. 它记录相关指令执行后, 其结果的所有bit位中1的个数是否为偶数. 为偶数则pf=1.

### SF标志(Sign Flag)
flag的第7位是SF, 符号标志位. 它记录相关指令执行后, 其结果是否为负. 如果结果为负, sf=1.

### CF标志(Carry Flag)
flag的第0位是CF, 进位标志位. 一般情况下, 在进行无符号数运算的时候, 它记录了运算结果的最高有效位向更高位的进位制, 或从更高位的借位值.  
inc和loop指令不影响CF位.
### OF标志(Overflow Flag)
这里的溢出, 只是对有符号数运算而言.  
flag的第11位是OF, 溢出标志位. 一般情况下, OF记录了有符号数运算的结果是否发生了溢出, 如果发生溢出, OF=1.

### DF标志(Direction Flag)
flag的第10位是DF, 方向标志位. 在串处理指令中, 控制每次操作后si, di的增减.
1. df=0, 每次操作后si, di递增
2. df=1, 每次操作后si, di递减
   
cld指令: 将标志寄存器的df位置0  
std指令: 将标志寄存器的df位置1